<!DOCTYPE HTML>
<html lang="zh">
<head>
<!-- Generated by javadoc (17) on Thu Mar 13 17:03:15 CST 2025 -->
<title>TSRPass</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-03-13">
<meta name="description" content="declaration: package: com.tencent.mps.tie.api, class: TSRPass">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="跳过导航链接">跳过导航链接</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="导航">
<li><a href="package-summary.html">程序包</a></li>
<li class="nav-bar-cell1-rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../../help-doc.html#class">帮助</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>概要:&nbsp;</li>
<li><a href="#nested-class-summary">嵌套</a>&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">方法</a></li>
</ul>
<ul class="sub-nav-list">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">方法</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">程序包</span>&nbsp;<a href="package-summary.html">com.tencent.mps.tie.api</a></div>
<h1 title="类 TSRPass" class="title">类 TSRPass</h1>
</div>
<div class="inheritance" title="继承树"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="java.lang中的类或接口" class="external-link">java.lang.Object</a>
<div class="inheritance">com.tencent.mps.tie.api.TSRPass</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">TSRPass</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="java.lang中的类或接口" class="external-link">Object</a></span></div>
<div class="block">TSRPass is a class responsible for performing super-resolution rendering on input images.
 The class creates a TSRPass object and provides methods for initialization, reinitialization, rendering, and
 releasing resources.

 <p>
 Note:
 <ul>
 <li>All methods of TSRPass must be called within the same GLThread.</li>
 <li>The <a href="#render(int)"><code>render(int)</code></a> method should not be called before the <a href="#init(int,int,float)"><code>init(int, int, float)</code></a> method, and it should not be called after the <a href="#deInit()"><code>deInit()</code></a> method.</li>
 <li>The <a href="#reInit(int,int,float)"><code>reInit(int, int, float)</code></a> method can be used to update the dimensions and scaling factor of the input image without needing to create a new TSRPass instance.</li>
 </ul>
 </p>

 <p>Usage:</p>
 <ol>
 <li>(In glThread) Create a TSRPass object using the constructor.</li>
 <li>(In glThread) Initialize the TSRPass object by calling the <a href="#init(int,int,float)"><code>init(int, int, float)</code></a> method.</li>
 <li>(In glThread) If the input image dimensions or scaling factor change and you need to update the TSRPass configuration without creating a new instance, call the <a href="#reInit(int,int,float)"><code>reInit(int, int, float)</code></a> method.</li>
 <li>(In glThread) Perform super-resolution rendering on an input OpenGL texture by calling the <a href="#render(int)"><code>render(int)</code></a> method.</li>
 <li>(In glThread) Release resources when the TSRPass object is no longer needed by calling the <a href="#deInit()"><code>deInit()</code></a> method.</li>
 </ol>

 <p>STANDARD SDK Example:</p>
 <pre>
 // The code below must be executed in the same glThread.
 //----------------------GL Thread---------------------//

 // Create a TSRPass object using the constructor.
 TSRPass tsrPass = new TSRPass(TSRPass.TSRAlgorithmType.STANDARD);

 // Initialize TSRPass and set the input image width, height and srRatio.
 tsrPass.init(inputWidth, inputHeight, srRatio);

 // If the input image dimensions or srRatio change, reinitialize TSRPass with new parameters.
 tsrPass.reInit(newInputWidth, newInputHeight, newSrRatio);

 // Perform super-resolution rendering on the input OpenGL texture and get the enhanced texture ID.
 int outputTextureId = tsrPass.render(inputTextureId);

 // Release resources when the TSRPass object is no longer needed.
 tsrPass.deInit();

 //----------------------GL Thread---------------------//
 </pre>

 <p>PROFESSIONAL SDK Example:</p>
 <pre>
 // The code below must be executed in the same glThread.
 //----------------------GL Thread---------------------//

 // Create a TSRPass object using the constructor.
 TSRPass tsrPass = new TSRPass(TSRPass.TSRAlgorithmType.PROFESSIONAL);

 // Initialize TSRPass and set the input image width, height and srRatio.
 tsrPass.init(inputWidth, inputHeight, srRatio);

 // If the input image dimensions or srRatio change, reinitialize TSRPass with new parameters.
 tsrPass.reInit(newInputWidth, newInputHeight, newSrRatio);

 // Perform super-resolution rendering on the input OpenGL texture and get the enhanced texture ID.
 int outputTextureId = tsrPass.render(inputTextureId);

 // Release resources when the TSRPass object is no longer needed.
 tsrPass.deInit();

 //----------------------GL Thread---------------------//
 </pre></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>嵌套类概要</h2>
<div class="caption"><span>嵌套类</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">修饰符和类型</div>
<div class="table-header col-second">类</div>
<div class="table-header col-last">说明</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="TSRPass.FallbackListener.html" class="type-name-link" title="com.tencent.mps.tie.api中的接口">TSRPass.FallbackListener</a></code></div>
<div class="col-last even-row-color">
<div class="block">A listener interface for handling fallback events in the super-resolution process.</div>
</div>
<div class="col-first odd-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="TSRPass.TSRAlgorithmType.html" class="type-name-link" title="enum class in com.tencent.mps.tie.api">TSRPass.TSRAlgorithmType</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The TSRAlgorithmType enum represents the algorithm running mode to be used for super-resolution rendering in the
 <a href="TSRPass.html" title="com.tencent.mps.tie.api中的类"><code>TSRPass</code></a> class.</div>
</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="TSRPass.TSRInitStatusCode.html" class="type-name-link" title="enum class in com.tencent.mps.tie.api">TSRPass.TSRInitStatusCode</a></code></div>
<div class="col-last even-row-color">
<div class="block">Enum representing various initialization errors for TSRPass.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>构造器概要</h2>
<div class="caption"><span>构造器</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">构造器</div>
<div class="table-header col-last">说明</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(com.tencent.mps.tie.api.TSRPass.TSRAlgorithmType)" class="member-name-link">TSRPass</a><wbr>(<a href="TSRPass.TSRAlgorithmType.html" title="enum class in com.tencent.mps.tie.api">TSRPass.TSRAlgorithmType</a>&nbsp;algorithmType)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a TSRPass object for super-resolution rendering.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(com.tencent.mps.tie.api.TSRPass.TSRAlgorithmType,int,int)" class="member-name-link">TSRPass</a><wbr>(<a href="TSRPass.TSRAlgorithmType.html" title="enum class in com.tencent.mps.tie.api">TSRPass.TSRAlgorithmType</a>&nbsp;algorithmType,
 int&nbsp;maxInputWidth,
 int&nbsp;maxInputHeight)</code></div>
<div class="col-last odd-row-color">
<div class="block">Creates a TSRPass object for super-resolution rendering.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>方法概要</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">所有方法</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">实例方法</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">具体方法</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">修饰符和类型</div>
<div class="table-header col-second">方法</div>
<div class="table-header col-last">说明</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#benchmarkProSR(int,int,float)" class="member-name-link">benchmarkProSR</a><wbr>(int&nbsp;inputWidth,
 int&nbsp;inputHeight,
 float&nbsp;srRatio)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Evaluates the rendering time consumption of the PROFESSIONAL algorithm.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deInit()" class="member-name-link">deInit</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Releases the resources associated with the TSRPass object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#disableProSRAutoFallback()" class="member-name-link">disableProSRAutoFallback</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Disables the automatic fallback behavior for the super-resolution process.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#enableProSRAutoFallback(int,int,com.tencent.mps.tie.api.TSRPass.FallbackListener)" class="member-name-link">enableProSRAutoFallback</a><wbr>(int&nbsp;consecutiveTimeoutFrames,
 int&nbsp;timeoutDurationMs,
 <a href="TSRPass.FallbackListener.html" title="com.tencent.mps.tie.api中的接口">TSRPass.FallbackListener</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configures and activates the automatic fallback mechanism for super-resolution processing.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#forceProSRFallback(boolean)" class="member-name-link">forceProSRFallback</a><wbr>(boolean&nbsp;enable)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Switches between the PROFESSIONAL and STANDARD algorithms.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="TSRPass.TSRInitStatusCode.html" title="enum class in com.tencent.mps.tie.api">TSRPass.TSRInitStatusCode</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#init(int,int,float)" class="member-name-link">init</a><wbr>(int&nbsp;inputWidth,
 int&nbsp;inputHeight,
 float&nbsp;srRatio)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initializes the TSRPass object for super-resolution rendering.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="TSRPass.TSRInitStatusCode.html" title="enum class in com.tencent.mps.tie.api">TSRPass.TSRInitStatusCode</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#reInit(int,int,float)" class="member-name-link">reInit</a><wbr>(int&nbsp;inputWidth,
 int&nbsp;inputHeight,
 float&nbsp;srRatio)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Reinitializes the TSRPass object for super-resolution rendering.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#render(int)" class="member-name-link">render</a><wbr>(int&nbsp;textureId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Performs the super-resolution rendering operation on the input image.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#render(int,float%5B%5D)" class="member-name-link">render</a><wbr>(int&nbsp;textureId,
 float[]&nbsp;transformMatrix)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Performs the super-resolution rendering operation on the input image with a specified transform matrix.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">从类继承的方法&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="java.lang中的类或接口" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="java.lang中的类或接口" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="java.lang中的类或接口" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="java.lang中的类或接口" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="java.lang中的类或接口" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="java.lang中的类或接口" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="java.lang中的类或接口" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="java.lang中的类或接口" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="java.lang中的类或接口" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="java.lang中的类或接口" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>构造器详细资料</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(com.tencent.mps.tie.api.TSRPass.TSRAlgorithmType)">
<h3>TSRPass</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">TSRPass</span><wbr><span class="parameters">(<a href="TSRPass.TSRAlgorithmType.html" title="enum class in com.tencent.mps.tie.api">TSRPass.TSRAlgorithmType</a>&nbsp;algorithmType)</span></div>
<div class="block">Creates a TSRPass object for super-resolution rendering.
 <p>
 This constructor should be called after initializing the TSRSdk using
 <a href="TSRSdk.html#init(android.content.Context,long,int,com.tencent.mps.tie.api.TSRSdk.TSRSdkLicenseVerifyResultCallback,com.tencent.mps.tie.api.TSRLogger)"><code>TSRSdk.init(Context, long, int, TSRSdk.TSRSdkLicenseVerifyResultCallback, TSRLogger)</code></a>.
 The created TSRPass object will use the specified <a href="TSRPass.TSRAlgorithmType.html" title="enum class in com.tencent.mps.tie.api"><code>TSRPass.TSRAlgorithmType</code></a> for its rendering operations. The
 constructor pre-allocates a memory buffer for the inference framework, supporting input resolutions up to
 4096x4096.,
 helping to avoid performance overhead when resetting the resolution or issues with image enhancement
 not taking effect during reinitialization.
 </p></div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>algorithmType</code> - The TSRAlgorithmType enum value representing the algorithm running mode to be used.
         It can be either STANDARD (fast mode) or PROFESSIONAL (quality mode).
         STANDARD mode prioritizes better performance in terms of speed, possibly sacrificing some image quality.
         PROFESSIONAL mode prioritizes better image quality, even if the running speed is slower.</dd>
<dt>另请参阅:</dt>
<dd>
<ul class="see-list">
<li><a href="TSRPass.TSRAlgorithmType.html" title="enum class in com.tencent.mps.tie.api"><code>TSRPass.TSRAlgorithmType</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(com.tencent.mps.tie.api.TSRPass.TSRAlgorithmType,int,int)">
<h3>TSRPass</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">TSRPass</span><wbr><span class="parameters">(<a href="TSRPass.TSRAlgorithmType.html" title="enum class in com.tencent.mps.tie.api">TSRPass.TSRAlgorithmType</a>&nbsp;algorithmType,
 int&nbsp;maxInputWidth,
 int&nbsp;maxInputHeight)</span></div>
<div class="block">Creates a TSRPass object for super-resolution rendering.
 <p>
 This constructor should be called after initializing the TSRSdk using
 <a href="TSRSdk.html#init(android.content.Context,long,int,com.tencent.mps.tie.api.TSRSdk.TSRSdkLicenseVerifyResultCallback,com.tencent.mps.tie.api.TSRLogger)"><code>TSRSdk.init(Context, long, int, TSRSdk.TSRSdkLicenseVerifyResultCallback, TSRLogger)</code></a>.
 The created TSRPass object will use the specified <a href="TSRPass.TSRAlgorithmType.html" title="enum class in com.tencent.mps.tie.api"><code>TSRPass.TSRAlgorithmType</code></a> for its rendering operations and and
 configures the maximum input resolution for the image enhancement process.
 The maximum input resolution is used to pre-allocate memory for the underlying neural network inference
 framework,
 helping to avoid performance overhead when resetting the resolution or issues with image enhancement
 not taking effect during reinitialization.
 </p></div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>algorithmType</code> - The TSRAlgorithmType enum value representing the algorithm running mode to be used.
         It can be either STANDARD (fast mode) or PROFESSIONAL (quality mode).
         STANDARD mode prioritizes better performance in terms of speed, possibly sacrificing some image quality.
         PROFESSIONAL mode prioritizes better image quality, even if the running speed is slower.</dd>
<dt>另请参阅:</dt>
<dd>
<ul class="see-list">
<li><a href="TSRPass.TSRAlgorithmType.html" title="enum class in com.tencent.mps.tie.api"><code>TSRPass.TSRAlgorithmType</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>方法详细资料</h2>
<ul class="member-list">
<li>
<section class="detail" id="init(int,int,float)">
<h3>init</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="TSRPass.TSRInitStatusCode.html" title="enum class in com.tencent.mps.tie.api">TSRPass.TSRInitStatusCode</a></span>&nbsp;<span class="element-name">init</span><wbr><span class="parameters">(int&nbsp;inputWidth,
 int&nbsp;inputHeight,
 float&nbsp;srRatio)</span></div>
<div class="block">Initializes the TSRPass object for super-resolution rendering.
 This method must be called within the GL thread.
 The input parameters specify the dimensions of the input image to be processed
 and the magnification factor for super-resolution.
 <p>
 The valid ranges for the input dimensions depend on the selected <a href="TSRPass.TSRAlgorithmType.html" title="enum class in com.tencent.mps.tie.api"><code>TSRPass.TSRAlgorithmType</code></a>:
 <ul>
     <li>If the algorithm type is <a href="TSRPass.TSRAlgorithmType.html#STANDARD"><code>TSRPass.TSRAlgorithmType.STANDARD</code></a>, the dimensions must be between [8, 4096].</li>
     <li>If the algorithm type is <a href="TSRPass.TSRAlgorithmType.html#PROFESSIONAL"><code>TSRPass.TSRAlgorithmType.PROFESSIONAL</code></a> or <a href="TSRPass.TSRAlgorithmType.html#PROFESSIONAL"><code>TSRPass.TSRAlgorithmType.PROFESSIONAL</code></a>,
         the dimensions must be between [8, maxInputWidth] and [8, maxInputHeight], where maxInputWidth and maxInputHeight
         are set by <a href="#%3Cinit%3E(com.tencent.mps.tie.api.TSRPass.TSRAlgorithmType,int,int)"><code>TSRPass(TSRAlgorithmType, int, int)</code></a> .</li>
 </ul>
 </p>
 <p>
 If the returned <a href="TSRPass.TSRInitStatusCode.html" title="enum class in com.tencent.mps.tie.api"><code>TSRPass.TSRInitStatusCode</code></a> is not <a href="TSRPass.TSRInitStatusCode.html#SUCCESS"><code>TSRPass.TSRInitStatusCode.SUCCESS</code></a>,
 the <a href="#render(int)"><code>render(int)</code></a> method will directly return the input texture without applying any super-resolution processing.
 This behavior ensures that the original texture is preserved in case of initialization failure.
 </p></div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>inputWidth</code> - The new width of the input image to be processed.
         This value should be within the valid range based on the algorithm type.</dd>
<dd><code>inputHeight</code> - The new height of the input image to be processed.
         This value should be within the valid range based on the algorithm type.</dd>
<dd><code>srRatio</code> - The magnification factor for super-resolution.
         This value should be greater than zero and determines the scaling
         applied to the input image during the rendering process.</dd>
<dt>返回:</dt>
<dd>A <a href="TSRPass.TSRInitStatusCode.html" title="enum class in com.tencent.mps.tie.api"><code>TSRPass.TSRInitStatusCode</code></a> enum value indicating the result of the initialization.
         <ul>
             <li><a href="TSRPass.TSRInitStatusCode.html#SUCCESS"><code>TSRPass.TSRInitStatusCode.SUCCESS</code></a> if the initialization is successful.</li>
             <li>Other <a href="TSRPass.TSRInitStatusCode.html" title="enum class in com.tencent.mps.tie.api"><code>TSRPass.TSRInitStatusCode</code></a> values if the initialization fails, indicating the specific error.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="reInit(int,int,float)">
<h3>reInit</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="TSRPass.TSRInitStatusCode.html" title="enum class in com.tencent.mps.tie.api">TSRPass.TSRInitStatusCode</a></span>&nbsp;<span class="element-name">reInit</span><wbr><span class="parameters">(int&nbsp;inputWidth,
 int&nbsp;inputHeight,
 float&nbsp;srRatio)</span></div>
<div class="block">Reinitializes the TSRPass object for super-resolution rendering.
 This method must be called within the GL thread.
 The input parameters specify the new dimensions of the input image to be processed
 and the new magnification factor for super-resolution.
 <p>
 The valid ranges for the input dimensions depend on the selected <a href="TSRPass.TSRAlgorithmType.html" title="enum class in com.tencent.mps.tie.api"><code>TSRPass.TSRAlgorithmType</code></a>:
 <ul>
     <li>If the algorithm type is <a href="TSRPass.TSRAlgorithmType.html#STANDARD"><code>TSRPass.TSRAlgorithmType.STANDARD</code></a>, the dimensions must be between [8, 4096].</li>
     <li>If the algorithm type is <a href="TSRPass.TSRAlgorithmType.html#PROFESSIONAL"><code>TSRPass.TSRAlgorithmType.PROFESSIONAL</code></a>,
         the dimensions must be between [8, maxInputWidth] and [8, maxInputHeight], where maxInputWidth and maxInputHeight
         are set by <a href="#%3Cinit%3E(com.tencent.mps.tie.api.TSRPass.TSRAlgorithmType,int,int)"><code>TSRPass(TSRAlgorithmType, int, int)</code></a>.</li>
 </ul>
 </p>
 <p>
 If the returned <a href="TSRPass.TSRInitStatusCode.html" title="enum class in com.tencent.mps.tie.api"><code>TSRPass.TSRInitStatusCode</code></a> is not <a href="TSRPass.TSRInitStatusCode.html#SUCCESS"><code>TSRPass.TSRInitStatusCode.SUCCESS</code></a>,
 the <a href="#render(int)"><code>render(int)</code></a> method will directly return the input texture without applying any super-resolution processing.
 This behavior ensures that the original texture is preserved in case of initialization failure.
 </p></div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>inputWidth</code> - The new width of the input image to be processed.
         This value should be within the valid range based on the algorithm type.</dd>
<dd><code>inputHeight</code> - The new height of the input image to be processed.
         This value should be within the valid range based on the algorithm type.</dd>
<dd><code>srRatio</code> - The new magnification factor for super-resolution.
         This value should be greater than zero and determines the scaling
         applied to the input image during the rendering process.</dd>
<dt>返回:</dt>
<dd>A <a href="TSRPass.TSRInitStatusCode.html" title="enum class in com.tencent.mps.tie.api"><code>TSRPass.TSRInitStatusCode</code></a> enum value indicating the result of the reinitialization.
         <ul>
             <li><a href="TSRPass.TSRInitStatusCode.html#SUCCESS"><code>TSRPass.TSRInitStatusCode.SUCCESS</code></a> if the reinitialization is successful.</li>
             <li>Other <a href="TSRPass.TSRInitStatusCode.html" title="enum class in com.tencent.mps.tie.api"><code>TSRPass.TSRInitStatusCode</code></a> values if the reinitialization fails, indicating the specific error.</li>
         </ul></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="enableProSRAutoFallback(int,int,com.tencent.mps.tie.api.TSRPass.FallbackListener)">
<h3>enableProSRAutoFallback</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">enableProSRAutoFallback</span><wbr><span class="parameters">(int&nbsp;consecutiveTimeoutFrames,
 int&nbsp;timeoutDurationMs,
 <a href="TSRPass.FallbackListener.html" title="com.tencent.mps.tie.api中的接口">TSRPass.FallbackListener</a>&nbsp;listener)</span></div>
<div class="block">Configures and activates the automatic fallback mechanism for super-resolution processing.
 This method determines a timeout when the processing time exceeds the specified
 <code>timeoutDurationMs</code>. If the number of consecutive timeout frames reaches the configured
 threshold <code>consecutiveTimeoutFrames</code>, an automatic fallback operation will be triggered.

 <p>Once the automatic fallback feature is enabled, when the <a href="#render(int)"><code>render(int)</code></a> method is called for
 the first time, the system will conduct a performance test of the device's computing power
 in a separate thread. During the testing process, the standard algorithm will be used,
 and only after the test is completed and the computing power meets the standards will it
 switch to the professional algorithm. The test will consist of 5 frames, and the standard
 for meeting the computing power requirement is that the average time taken for the 5 frames
 is less than <code>timeoutDurationMs</code>.</p>

 <p>After successfully using the professional algorithm, the following dynamic monitoring
 fallback algorithm will be enabled:</p>

 <p>The threshold for consecutive timeout frames, <code>consecutiveTimeoutFrames</code>, will be dynamically
 adjusted based on the device's performance. In cases of lower device performance, the threshold
 will be reduced. The adjustment mechanism is as follows:</p>

 <ul>
   <li>If the processing time is twice <code>timeoutDurationMs</code>, the threshold will be halved.</li>
   <li>If the processing time is three times <code>timeoutDurationMs</code>, the threshold will be reduced
       to one-third, and so on.</li>
 </ul>

 <p>The minimum value for the threshold is 2. The formula for updating the threshold is:
 consecutiveTimeoutFrames = max(2, consecutiveTimeoutFrames / (timeConsume / timeoutDurationMs)),
 where timeConsume is the actual processing time.</p>

 <p>Through this dynamic adjustment mechanism, the system can flexibly respond to the current
 performance conditions, ensuring stability and efficiency during the processing.</p></div>
</section>
</li>
<li>
<section class="detail" id="disableProSRAutoFallback()">
<h3>disableProSRAutoFallback</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">disableProSRAutoFallback</span>()</div>
<div class="block">Disables the automatic fallback behavior for the super-resolution process.
 <p>
 This method should be called to turn off the automatic fallback feature that was previously enabled
 using <a href="#enableProSRAutoFallback(int,int,com.tencent.mps.tie.api.TSRPass.FallbackListener)"><code>enableProSRAutoFallback(int, int, FallbackListener)</code></a>. Once this method is invoked,
 the system will no longer trigger a fallback based on the configured parameters.</div>
</section>
</li>
<li>
<section class="detail" id="benchmarkProSR(int,int,float)">
<h3>benchmarkProSR</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">benchmarkProSR</span><wbr><span class="parameters">(int&nbsp;inputWidth,
 int&nbsp;inputHeight,
 float&nbsp;srRatio)</span></div>
<div class="block">Evaluates the rendering time consumption of the PROFESSIONAL algorithm.
 <p>
 This method assesses the execution time in milliseconds for the PROFESSIONAL algorithm based on the given
 input dimensions. This method should not be called on the main thread, as it may take approximately
 2 to 5 seconds to complete.

 <p>
 This method only takes effect if the <a href="TSRPass.TSRAlgorithmType.html" title="enum class in com.tencent.mps.tie.api"><code>TSRPass.TSRAlgorithmType</code></a> used to create the <a href="TSRPass.html" title="com.tencent.mps.tie.api中的类"><code>TSRPass</code></a> is not set to
 <a href="TSRPass.TSRAlgorithmType.html#STANDARD"><code>TSRPass.TSRAlgorithmType.STANDARD</code></a>. If the algorithm type is STANDARD, the evaluation may not be applicable.
 <p>
 If the execution of the algorithm fails for any reason, this method will return -1.</div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>inputWidth</code> - The width of the input.</dd>
<dd><code>inputHeight</code> - The height of the input.</dd>
<dt>返回:</dt>
<dd>The estimated rendering time consumption in milliseconds, or -1 if the execution fails.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="forceProSRFallback(boolean)">
<h3>forceProSRFallback</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">forceProSRFallback</span><wbr><span class="parameters">(boolean&nbsp;enable)</span></div>
<div class="block">Switches between the PROFESSIONAL and STANDARD algorithms.
 <p>
 This method enables or disables the use of the STANDARD algorithm. When <code>enable</code> is true, the system
 will switch to the STANDARD algorithm; otherwise, it will use the PROFESSIONAL algorithm.
 <p>
 This method only takes effect if the <a href="TSRPass.TSRAlgorithmType.html" title="enum class in com.tencent.mps.tie.api"><code>TSRPass.TSRAlgorithmType</code></a> used to create the <a href="TSRPass.html" title="com.tencent.mps.tie.api中的类"><code>TSRPass</code></a> is not set to
 <a href="TSRPass.TSRAlgorithmType.html#STANDARD"><code>TSRPass.TSRAlgorithmType.STANDARD</code></a>.</div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>enable</code> - <code>true</code> to switch to the STANDARD algorithm; <code>false</code> to use the PROFESSIONAL
         algorithm.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="render(int)">
<h3>render</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">render</span><wbr><span class="parameters">(int&nbsp;textureId)</span></div>
<div class="block">Performs the super-resolution rendering operation on the input image. This method must be called within the
 GLThread.
 <p>
 This method applies the super-resolution rendering process to the input image, improving its quality by
 increasing its resolution. The
 processed image is rendered onto a texture within the TSRPass object, and the texture's ID is returned.
 </p>
 <p>
 NOTE:
 <ul>
 <li>The type of the texture corresponding to the textureId you pass in must be texture2D.</li>
 <li>The format of the input OpenGL texture must be GL_RGBA.</li>
 <li>The format of the output textureId is also GL_RGBA.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>textureId</code> - The OpenGL textureId of the input image that needs to be processed for super-resolution.
         The
         corresponding texture is a texture2D texture with GL_RGBA format.</dd>
<dt>返回:</dt>
<dd>The textureId of the texture2D after super-resolution rendering, which is stored inside the TSRPass
         object. The format of the output texture is GL_RGBA. The size of the output texture is (inputWidth *
         srRatio, inputHeight * srRatio).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="render(int,float[])">
<h3>render</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">render</span><wbr><span class="parameters">(int&nbsp;textureId,
 float[]&nbsp;transformMatrix)</span></div>
<div class="block">Performs the super-resolution rendering operation on the input image with a specified transform matrix. This
 method must be called within the GLThread.
 <p>
 This method applies the super-resolution rendering process to the input image, improving its quality by
 increasing its resolution. Additionally, it uses the given transform matrix to manipulate the image during the
 rendering process. The
 processed image is rendered onto a texture within the TSRPass object, and the texture's ID is returned.
 </p>
 <p>
 NOTE:
 <ul>
 <li>The type of the texture corresponding to the textureId you pass in must be texture2D.</li>
 <li>The format of the input OpenGL texture must be GL_RGBA.</li>
 <li>The format of the output textureId is also GL_RGBA.</li>
 </ul>
 </p></div>
<dl class="notes">
<dt>参数:</dt>
<dd><code>textureId</code> - The OpenGL textureId of the input image that needs to be processed for super-resolution.
         The
         corresponding texture is a texture2D texture with GL_RGBA format.</dd>
<dd><code>transformMatrix</code> - A float array representing the transform matrix to be applied to the input image
         during the rendering process. The matrix should be in column-major order and of size 16.</dd>
<dt>返回:</dt>
<dd>The textureId of the texture2D after super-resolution rendering and applying the transform matrix, which
         is stored inside the TSRPass
         object. The format of the output texture is GL_RGBA. The size of the output texture is (inputWidth *
         srRatio, inputHeight * srRatio).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deInit()">
<h3>deInit</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">deInit</span>()</div>
<div class="block">Releases the resources associated with the TSRPass object.
 <p>
 This method should be called when the TSRPass object is no longer needed, to free up memory and other resources.
 After calling this method, the TSRPass object should not be used for any further operations.
 </p></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>TSRPass Class Reference</title>

	<link rel="stylesheet" href="../css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="../index.html">TSRSDK </a>
			</h1>

			<p id="developer-home">
				<a href="../index.html">Tencent</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="../index.html">Index</a></li>
<li><a href="../hierarchy.html">Hierarchy</a></li>

					<li id="on-this-page" role="navigation">
						<label>
							On This Page

							<div class="chevron">
								<div class="chevy chevron-left"></div>
								<div class="chevy chevron-right"></div>
							</div>

							<select id="jump-to">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	

	
	
	<option value="tasks">Tasks</option>
	
	

	
	

	

	
	<optgroup label="Instance Methods">
		
		<option value="//api/name/deInit">- deInit</option>
		
		<option value="//api/name/initWithTSRAlgorithmType:device:inputWidth:inputHeight:srRatio:initStatusCode:">- initWithTSRAlgorithmType:device:inputWidth:inputHeight:srRatio:initStatusCode:</option>
		
		<option value="//api/name/reInit:inputHeight:srRatio:">- reInit:inputHeight:srRatio:</option>
		
		<option value="//api/name/render:commandBuffer:">- render:commandBuffer:</option>
		
		<option value="//api/name/renderWithPixelBuffer:">- renderWithPixelBuffer:</option>
		
		<option value="//api/name/setParametersWithBrightness:saturation:contrast:sharpness:">- setParametersWithBrightness:saturation:contrast:sharpness:</option>
		
	</optgroup>
	
	
</select>
						</label>
					</li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview_contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">TSRPass Class Reference</h1>

					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<th>Inherits from</th>
	<td>NSObject</td>
</tr><tr>
	<th>Declared in</th>
	<td>TSRPass.h<br />TSRPass.mm</td>
</tr>
						</tbody></table></div>
					

                    
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>The TSRPass class provides methods for performing super-resolution rendering on input images using the Metal framework.</p>

<p>TSRPass is responsible for initializing the super-resolution rendering process with the specified input image size and super-resolution ratio. It also provides a render method that applies the super-resolution process to
the input image and returns the processed image as an MTLTexture object.</p>

<p><b>Note: </b></p>


<ol>
<li>This class uses the Metal framework for performing super-resolution rendering and requires a device that supports Metal.</li>
<li>All methods of TSRPass must be called within the same thread.</li>
<li>The <a href="#//api/name/render:commandBuffer:">render:commandBuffer:</a> and <a href="#//api/name/renderWithPixelBuffer:">renderWithPixelBuffer:</a> method should not be called before the <a href="#//api/name/initWithTSRAlgorithmType:device:inputWidth:inputHeight:srRatio:initStatusCode:">initWithTSRAlgorithmType:device:inputWidth:inputHeight:srRatio:initStatusCode:</a> method, and it should not be called after the <a href="#//api/name/deInit">deInit</a> method.</li>
<li>Initializing the TSRPass with TSRAlgorithmTypeProfessional is only available on iOS 15.0 or newer. If the iOS version is older, it will fallback to TSRAlgorithmTypeStandard.</li>
</ol>


<p><b>Usage: </b></p>


<ol>
<li>Create a TSRPass instance using the <a href="#//api/name/initWithTSRAlgorithmType:device:inputWidth:inputHeight:srRatio:initStatusCode:">initWithTSRAlgorithmType:device:inputWidth:inputHeight:srRatio:initStatusCode:</a> method.</li>
<li>Call the <a href="#//api/name/render:commandBuffer:">render:commandBuffer:</a> method with the input image&rsquo;s MTLTexture and an MTLCommandBuffer to perform super-resolution rendering.</li>
<li>Obtain the processed image as an MTLTexture from the return value of the <a href="#//api/name/render:commandBuffer:">render:commandBuffer:</a> method.</li>
<li><a href="#//api/name/deInit">deInit</a> method should be called when the TSRPass object is no longer needed, to free up the memory and other resources.</li>
</ol>

					</div>
					
					

					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						

						
						

						<div class="task-list">
							<div class="section-method">
	<a name="//api/name/initWithTSRAlgorithmType:device:inputWidth:inputHeight:srRatio:initStatusCode:" title="initWithTSRAlgorithmType:device:inputWidth:inputHeight:srRatio:initStatusCode:"></a>
	<h3 class="method-title"><code><a href="#//api/name/initWithTSRAlgorithmType:device:inputWidth:inputHeight:srRatio:initStatusCode:">&ndash;&nbsp;initWithTSRAlgorithmType:device:inputWidth:inputHeight:srRatio:initStatusCode:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Init TSRPass object for super-resolution.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (instancetype)initWithTSRAlgorithmType:(TSRAlgorithmType)<em>algorithmType</em> device:(id&lt;MTLDevice&gt;)<em>device</em> inputWidth:(int32_t)<em>inputWidth</em> inputHeight:(int32_t)<em>inputHeight</em> srRatio:(float_t)<em>srRatio</em> initStatusCode:(TSRInitStatusCode *)<em>initStatusCode</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>algorithmType</code></th>
						<td><p>The <a href="../Constants/TSRAlgorithmType.html">TSRAlgorithmType</a> enum value representing the algorithm running mode to be used. It can be either STANDARD (fast mode) or PROFESSIONAL (quality mode). STANDARD mode prioritizes better performance in terms of speed, possibly sacrificing some result accuracy. PROFESSIONAL mode prioritizes result accuracy, even if the running speed is slower.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>device</code></th>
						<td><p>The MTLDevice which you are using.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>inputWidth</code></th>
						<td><p>The width of the input texture. This value should be between 1 to 4096.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>inputHeight</code></th>
						<td><p>The height of the input texture. This value should be between 1 to 4096.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>srRatio</code></th>
						<td><p>The magnification factor for super-resolution.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>initStatusCode</code></th>
						<td><p>A pointer to a <a href="../Constants/TSRInitStatusCode.html">TSRInitStatusCode</a> enum value that will store the result of the initialization process. If initialization is successful, the value will be TSRInitStatusCodeSuccess. If initialization fails, the value will indicate the specific error that occurred.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Init TSRPass object for super-resolution.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">TSRPass.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/reInit:inputHeight:srRatio:" title="reInit:inputHeight:srRatio:"></a>
	<h3 class="method-title"><code><a href="#//api/name/reInit:inputHeight:srRatio:">&ndash;&nbsp;reInit:inputHeight:srRatio:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Reinitializes the TSRPass object for super-resolution rendering. The input parameters specify the new dimensions of the input image to be processed and the new magnification factor for super-resolution.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (TSRInitStatusCode)reInit:(int32_t)<em>inputWidth</em> inputHeight:(int32_t)<em>inputHeight</em> srRatio:(float_t)<em>srRatio</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>inputWidth</code></th>
						<td><p>The new width of the input image to be processed. This value should be between [1, 4096].</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>inputHeight</code></th>
						<td><p>The new height of the input image to be processed. This value should be between [1, 4096].</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>srRatio</code></th>
						<td><p>The new magnification factor for super-resolution. This value should be greater than zero and determines the scaling applied to the input image during the rendering process.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p><a href="../Constants/TSRInitStatusCode.html">TSRInitStatusCode</a> enum value that will store the result of the reinitialization process. If reinitialization is successful, the value will be TSRInitStatusCodeSuccess. If reinitialization fails, the value will indicate the specific error that occurred.</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Reinitializes the TSRPass object for super-resolution rendering. The input parameters specify the new dimensions of the input image to be processed and the new magnification factor for super-resolution.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">TSRPass.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/render:commandBuffer:" title="render:commandBuffer:"></a>
	<h3 class="method-title"><code><a href="#//api/name/render:commandBuffer:">&ndash;&nbsp;render:commandBuffer:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Performs the super-resolution rendering operation on the input image.
<br>
This method applies the super-resolution rendering process to the input image, improving its quality. The processed image is rendered onto a MTLTexture within
the TSRPass object. And the return is the MTLTexture which has preformed super-resolution rendering .
<br></p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (id&lt;MTLTexture&gt;)render:(id&lt;MTLTexture&gt;)<em>texture</em> commandBuffer:(id&lt;MTLCommandBuffer&gt;)<em>commandBuffer</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>texture</code></th>
						<td><p>The MTLTexture of the input image that needs to be processed for super-resolution.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>commandBuffer</code></th>
						<td><p>The MTLCommandBuffer which you are using.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>The MTLTexture that will be performed super-resolution rendering, which is stored inside the TSRPass
object. The size of the output texture is (<a href="#//api/name/inputWidth">inputWidth</a> * srRatio, <a href="#//api/name/inputHeight">inputHeight</a> * srRatio).</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Performs the super-resolution rendering operation on the input image.
<br>
This method applies the super-resolution rendering process to the input image, improving its quality. The processed image is rendered onto a MTLTexture within
the TSRPass object. And the return is the MTLTexture which has preformed super-resolution rendering .
<br></p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">TSRPass.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/renderWithPixelBuffer:" title="renderWithPixelBuffer:"></a>
	<h3 class="method-title"><code><a href="#//api/name/renderWithPixelBuffer:">&ndash;&nbsp;renderWithPixelBuffer:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Performs the super-resolution rendering operation on the input pixel buffer.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (CVPixelBufferRef)renderWithPixelBuffer:(CVPixelBufferRef)<em>pixelBuffer</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>pixelBuffer</code></th>
						<td><p>The CVPixelBufferRef of the input image that needs to be processed for super-resolution. The width and height of the pixel buffer must match the <a href="#//api/name/inputWidth">inputWidth</a> and <a href="#//api/name/inputHeight">inputHeight</a> set during initialization, and the pixel format must be BGRA.</p></td>
					</tr>
				
				</table>
			</div>
			

			
			<div class="method-subsection return">
				<h4 class="method-subtitle parameter-title">Return Value</h4>
				<p>The CVPixelBufferRef that has been performed super-resolution rendering. The size of the output pixel buffer is (<a href="#//api/name/inputWidth">inputWidth</a> * srRatio, <a href="#//api/name/inputHeight">inputHeight</a> * srRatio).</p>
			</div>
			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Performs the super-resolution rendering operation on the input pixel buffer.</p>

<p>This method applies the super-resolution rendering process to the input pixel buffer, improving its quality. The processed pixel buffer is created and returned as a new CVPixelBufferRef.</p><div class="note"><p><strong>Note:</strong> The SDK internally handles the lifecycle of the returned CVPixelBufferRef, therefore, the caller absolutely should not attempt to manually release the returned CVPixelBufferRef.</p></div>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">TSRPass.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/setParametersWithBrightness:saturation:contrast:sharpness:" title="setParametersWithBrightness:saturation:contrast:sharpness:"></a>
	<h3 class="method-title"><code><a href="#//api/name/setParametersWithBrightness:saturation:contrast:sharpness:">&ndash;&nbsp;setParametersWithBrightness:saturation:contrast:sharpness:</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Adjusts the parameters of the rendering operator.
It needs to take effect after TSRPass#initWithDevice is called.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)setParametersWithBrightness:(float)<em>brightness</em> saturation:(float)<em>saturation</em> contrast:(float)<em>contrast</em> sharpness:(float)<em>sharpness</em></code></div>

		    
			
			<div class="method-subsection arguments-section parameters">
				<h4 class="method-subtitle parameter-title">Parameters</h4>
				<table class="argument-def parameter-def">
				
					<tr>
						<th scope="row" class="argument-name"><code>brightness</code></th>
						<td><p>The brightness level to apply.
Valid values are between 0 and 100, with a default value of 50.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>saturation</code></th>
						<td><p>The saturation level to apply.
Valid values are between 0 and 100, with a default value of 50.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>contrast</code></th>
						<td><p>The contrast level to apply.
Valid values are between 0 and 100, with a default value of 50.</p></td>
					</tr>
				
					<tr>
						<th scope="row" class="argument-name"><code>sharpness</code></th>
						<td><p>The sharpness level to apply.
Valid values are between 0 and 100, with a default value of 0.</p></td>
					</tr>
				
				</table>
			</div>
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Adjusts the parameters of the rendering operator.
It needs to take effect after TSRPass#initWithDevice is called.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">TSRPass.h</code></p>
			</div>
			
			
		</div>
	</div>
</div><div class="section-method">
	<a name="//api/name/deInit" title="deInit"></a>
	<h3 class="method-title"><code><a href="#//api/name/deInit">&ndash;&nbsp;deInit</a></code>
</h3>

	<div class="method-info">
		<div class="pointy-thing"></div>

		<div class="method-info-container">
			
			
			<div class="method-subsection brief-description">
				<p>Releases the resources.
<br>
This method should be called when the TSRPass object is no longer needed, to free up the memory and other resources.</p>
			</div>
			
		    

			<div class="method-subsection method-declaration"><code>- (void)deInit</code></div>

		    
			

			

			

			
			<div class="method-subsection discussion-section">
				<h4 class="method-subtitle">Discussion</h4>
				<p>Releases the resources.
<br>
This method should be called when the TSRPass object is no longer needed, to free up the memory and other resources.</p>
			</div>
			

			

			

			
			<div class="method-subsection declared-in-section">
				<h4 class="method-subtitle">Declared In</h4>
				<p><code class="declared-in-ref">TSRPass.h</code></p>
			</div>
			
			
		</div>
	</div>
</div>
						</div>
						
					</div>
					
					

                    
                    
          
				</main>

				<footer>
					<div class="footer-copyright">
						
						<p class="copyright">Copyright &copy; 2024 Tencent. All rights reserved. Updated: 2024-10-29</p>
						
						
						<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
						
					</div>
				</footer>
			</div>
		</div>
	</article>

	<script src="../js/script.js"></script>
</body>
</html>